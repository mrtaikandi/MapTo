name: Run All Tests
run-name: 'Test: ${{ github.event.head_commit.message }}'
  
on:
  pull_request:
    branches:
      - '**'
  push:
    branches:
      - 'dev-*'
env:
  BUILD_CONFIGURATION: Debug
  DOTNET_VERSION: '7.0.x'
  
concurrency:
  group: ${{ github.workflow }}-${{ github.event.pull_request.number || github.ref }}
  cancel-in-progress: true

jobs:    
  run-tests:
    runs-on: ubuntu-latest
    name: Run All Tests
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4
        with:
          fetch-depth: 0 # avoid shallow clone so nbgv can do its work.

      - name: Set up Environment
        uses: ./.github/actions/setup

      - name: Building Solution
        uses: ./.github/actions/build

      - name: Running unit tests        
        uses: ./.github/actions/test
